/* Fotorama 3.0 (v1421) | http://fotoramajs.com/license.txt */
(function(d){function ta(f){for(var b={},d=0;d<O.length;d++){var E=O[d][0],j=O[d][1];if(f){var m=f.attr("data-"+E);m&&("number"==j?(m=Number(m),isNaN(m)||(b[E]=m)):"boolean"==j?"true"==m?b[E]=!0:"false"==m&&(b[E]=!1):"string"==j?b[E]=m:"boolean-number"==j&&("true"==m?b[E]=!0:"false"==m?b[E]=!1:(m=Number(m),isNaN(m)||(b[E]=m))))}else b[E]=O[d][2]}return b}function ua(b,d){for(var s={},j=0;j<Ka.length;j++)s[Ka[j]+b]=d;return s}function va(b,d,s){if(ea&&!s)return ua("transform",d?"translate(0,"+b+"px)":
    "translate("+b+"px,0)");s={};s[d?"top":"left"]=b;return s}function zb(b,d,s){return!bb||!ea||!s?b.position()[d]:b.css("-moz-transform").match(/-?\d+/g)["left"==d?4:5]}function wa(b){return ua("transition-duration",b+"ms")}function Z(b){b=Number((""+b).replace("px",""));return isNaN(b)?!1:b}function G(b,d,s){return Math.max(d,Math[!1!==s?"min":"max"](s,b))}function Ab(){return!1}function La(b){b.mousemove(function(b){b.preventDefault()}).mousedown(function(b){b.preventDefault()})}function dc(b){b.preventDefault();
  document.selection&&document.selection.empty?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges()}function ec(b){var j=d("iframe",b);j.size()&&j.each(function(){var b=d(this).clone(),f=b.attr("src"),j=0<f.indexOf("?")?"&":"?";b.attr("src",f+j+"wmode=opaque").addClass("js-opaque");d(this).after(b).remove()});b=d("object",b);b.size()&&b.each(function(){var b=d(this).clone();b.addClass("js-opaque");d('<param name="wmode" value="opaque">').appendTo(b);d("embed",b).attr({wmode:"opaque"});
  d(this).after(b).remove()})}function cb(b,d){b.is(":visible")?d():setTimeout(function(){cb(b,d)},100)}function db(f){function cc(){eb=!0;clearTimeout(Bb);a().arrows&&fa.css(wa(0));q.removeClass(b+"__wrap_mouseout");setTimeout(function(){a().arrows&&fa.css(wa(a().transitionDuration));setTimeout(function(){q.addClass(b+"__wrap_mouseover")},1)},1)}function s(){clearTimeout(Bb);!xa&&!eb&&q.removeClass(b+"__wrap_mouseover").addClass(b+"__wrap_mouseout")}function E(c,e,B,o,g,f){e=d(c);o=R.i.test(g)?y?y:
    1:o;o=a().vertical?Math.round(L/o):Math.round(L*o);Ma.canvas?(e.remove(),e=d('<canvas class="'+b+'__thumb__img"></canvas>'),e.appendTo(M.eq(f))):e.addClass(b+"__thumb__img");B={};B[S]=o;B[$]=L;e.attr(B).css(B).css({visibility:"visible"});Ma.canvas&&!R.i.test(g)&&e[0].getContext("2d").drawImage(c,0,0,a().vertical?L:o,a().vertical?o:L);B[$]=null;M.eq(f).css(B).data(B);T()}function da(a){!ya&&!ga&&!Na&&!fb?(a||(a=0),Cb(a,M.eq(a),E,"thumb"),setTimeout(function(){a+1<v&&da(a+1)},50)):setTimeout(function(){da(a)},
    100)}function m(c,e,b){c&&(R.no.test(c)||R.px.test(c)?(na=k=G(Z(c),oa,za),ha=pa=!1):R["%"].test(c)?(gb=Number((""+c).replace("%",""))/100,pa=!a().flexible,k||(k=f.width()*(p?1:gb)-Db,k=G(k,oa,za)),ha=!1):ha=!0);e&&(R.no.test(e)||R.px.test(e)?(Aa=n=G(Z(e),Ba,Ca),ia=!1):ia=!0);if("auto"==c||!c||"auto"==e||!e){var b=Number(b),o=z.filter(function(){return d(this).data("state")!="error"}).filter(":first").data("srcKey");if(isNaN(b)||!b)b=null,o&&(b=l[o].imgRatio);if(b){Oa=Pa=y=b;if(o){if("auto"==c||!c)na=
    k=G(Z(l[o].imgWidth),oa,za),ha=!0;if("auto"==e||!e)Aa=n=G(Z(l[o].imgHeight),Ba,Ca),ia=!0}ia&&(b&&!ha)&&(Aa=n=G(Math.round(k/b),Ba,Ca));!ia&&(b&&ha)&&(na=k=G(Math.round(n*b),oa,za))}}}function Qa(c){var e;if(a().fitToWindowHeight||p)e=aa.height();if(!y||c)Oa=Pa=y=k/n;a().thumbs&&!P&&(P=a().vertical?w.width():w.height());y=Eb?Oa:Pa;f.css({overflow:pa||p?"hidden":""});pa||p?(k=f.width()*(p?1:gb)-(a().vertical&&P&&(!p||!a().hideNavIfFullscreen)?P:0),p||(k=G(k,oa,za))):na&&(k=na);n=p?e-(!a().vertical&&
    P&&!a().hideNavIfFullscreen?P:0):ia?G(Math.round(k/y),Ba,Ca):Aa;y=k/n;a().fitToWindowHeight&&!p&&(c=e-a().fitToWindowHeightMargin-(!a().vertical&&P?P:0),n>c&&(n=G(c,Ba,Ca),y=k/n))}function U(c,e,b){Qa(c);e||(e=0);var o=k!=Fb||n!=Gb||y!=Hb;if(c||o){a().vertical?(r=n,Ra=k):(r=k,Ra=n);q.add(z).animate({width:k,height:n},e);a().thumbs&&a().vertical&&(a().thumbsOnRight?w.animate({left:k},e):q.animate({left:!p||!a().hideNavIfFullscreen?P:0},e));a().touchStyle?(hb=(r+a().margin)*v-a().margin,Ib=Ra,c={},
    c[S]=hb,c[$]=Ib,I.animate(c,e).data(c).data({minPos:-(hb-r),maxPos:0})):I.animate({width:k,height:n},e);a().thumbs&&(a().vertical?w.animate({height:n},e):w.animate({width:k},e),a().thumbsPreview&&o&&T(e,b),w.css({visibility:"visible"}));qa&&!a().vertical&&(a().arrows&&fa.animate({top:n/2},e),c={},c[Sa]=Ra/2,V.animate(c,e));if("loading"==Ta||"error"==Ta)c={},c[J]=(a().touchStyle?A:0)*(r+a().margin)+r/2,V.animate(c,e);H&&a().touchStyle&&(b=-A*(r+a().margin),K(I,b,0));Jb=!0;var g=0;d(ib).each(function(){clearTimeout(this)});
  ib=[];Da(H,A,e);z.each(function(a){if(a!=A){var c=d(this);c.data("img")&&c.data("img").css({visibility:"hidden"});var e=setTimeout(function(){Da(c,a)},g*50+50);ib.push(e);g++}})}Fb=k;Gb=n;Hb=y}function jb(){var c=H.data("srcKey");c&&(l[c].imgWidth&&l[c].imgHeight&&l[c].imgRatio)&&(na=k=l[c].imgWidth,Aa=n=l[c].imgHeight,Pa=y=l[c].imgRatio,U(!1,a().transitionDuration))}function F(c,e,B){function o(){a().touchStyle||(e=0);V.css(J,e*(r+a().margin)+r/2);Kb=setTimeout(function(){V.stop().show().fadeTo(0,
    1)},100)}function g(){V.css({backgroundPosition:"0 -"+bb*Ua+"px"});Ua++;Ua>=db&&(Ua=0)}clearTimeout(Kb);clearInterval(Lb);"loading"==c?(o(),f.addClass(b+"_loading").removeClass(b+"_error"),Ea?Lb=setInterval(g,fc):V.html("<span>&middot;&middot;&middot;</span>").css({backgroundImage:"none"})):"error"==c?(o(),f.addClass(b+"_error").removeClass(b+"_loading"),Ea||V.html("<span>?</span>").css({backgroundImage:"none"})):"loaded"==c&&(f.removeClass(b+"_loading "+b+"_error"),V.stop().fadeTo(Math.min(C,qa?
    0:B),0,function(){V.hide()}));Ta=c}function t(){return{index:A,src:l[A],img:H[0],thumb:a().thumbs?ja[0]:null,caption:kb}}function Mb(){a().onTransitionStop&&a().onTransitionStop.call(f[0],t())}function K(c,e,b,o){var g=isNaN(e)?0:Math.round(e);clearInterval(c.data("backAnimate"));o?(g=o,ea&&a().cssTransitions&&c.data({backAnimate:setInterval(function(){var g=zb(c,J,a().cssTransitions);1>Math.abs(g-o)&&K(c,e,Math.max(C,b/2))},10)})):setTimeout(function(){Mb()},b+10);b&&(clearTimeout(Nb),fb=!0);ea&&
    a().cssTransitions?(c.css(wa(b)),setTimeout(function(){c.css(va(g,a().vertical))},1)):c.stop().animate(va(g,a().vertical,!a().cssTransitions),b,lb,function(){o&&K(c,e,Math.max(C,b/2))});Nb=setTimeout(function(){fb=false;a().flexible&&c==I&&jb()},b)}function Ob(){if(X>r||!a().thumbsCentered)u.data({minPos:X>r?-(X-r):a().thumbMargin}),ga||u.data({maxPos:a().thumbMargin});else{var c=r/2-X/2;u.data({minPos:c});ga||u.data({maxPos:c})}}function mb(c,e,b){c*=1.1;if(X){if(!b||X<r)Va=!1;var o=ja.position()[J],
    b=ja.data()[S];Ob();if(!b&&Wa)ka.hide(),Wa=!1;else{Wa||(ka.show(),Wa=!0);if(X>r){var g=o+b/2,d=r/2,f=M.index(ja),h=f-Pb;void 0==Y&&(Y=u.position()[J]);if(nb&&e&&e>Math.max(36,2*a().thumbMargin)&&e<r-Math.max(36,2*a().thumbMargin)&&(0<h&&e>0.75*d||0>h&&e<1.25*d)){var D;D=0<h?f+1:f-1;0>D?D=0:D>v-1&&(D=v-1);f!=D&&(g=M.eq(D),g=g.position()[J]+g.data()[S]/2,d=e)}e=Math.round(-(g-d)+a().thumbMargin);if(0<h&&e>Y||0>h&&e<Y)e=o+Y<a().thumbMargin?-(o-a().thumbMargin):o+Y+b>r?-(2*o-r+b+a().thumbMargin):Y;e<=
    u.data("minPos")?e=u.data("minPos"):e>=a().thumbMargin&&(e=a().thumbMargin);x(e);ga||u.data({maxPos:a().thumbMargin})}else e=u.data("minPos");!Va&&!ga?(K(u,e,c,!1),Xa&&(Va=!0),Y=e):Xa=!0;var k=b-(ob?0:2*a().thumbBorderWidth),c=0.9*c;ea&&a().cssTransitions?(ka.css(wa(c)),setTimeout(function(){ka.css(va(o,a().vertical)).css(S,k)},1)):a().vertical?ka.stop().animate({top:o,height:k},c,lb):ka.stop().animate({left:o,width:k},c,lb)}}}function x(c){a().shadows&&(X>r?(w.addClass(b+"__thumbs_shadow"),c<=u.data("minPos")?
    w.removeClass(b+"__thumbs_shadow_no-left").addClass(b+"__thumbs_shadow_no-right"):c>=a().thumbMargin?w.removeClass(b+"__thumbs_shadow_no-right").addClass(b+"__thumbs_shadow_no-left"):w.removeClass(b+"__thumbs_shadow_no-left "+b+"__thumbs_shadow_no-right")):w.removeClass(b+"__thumbs_shadow"))}function T(a,e){X=u[S]();Ob();mb(a?a:0,!1,!e)}function Da(c,e,b){var o=c.data("img"),g=c.data("detached"),b=b?b:0;if(o&&!g){var d=c.data("srcKey"),g=l[d].imgWidth,f=l[d].imgHeight,h=l[d].imgRatio,D=d=0;a().touchStyle&&
c.css(J,e*(r+a().margin));if(g!=k||f!=n||a().alwaysPadding||p){var j=0;if(0.99>h/y||1.01<h/y||a().alwaysPadding||p)j=2*a().minPadding;h>=y?!p&&!a().cropToFit||p&&!a().cropToFitIfFullscreen?(g=Math.round(k-j)<g||a().zoomToFit||p?Math.round(k-j):g,f=Math.round(g/h),4>n-f&&(f+=n-f)):(f=n,g=Math.round(f*h)):!p&&!a().cropToFit||p&&!a().cropToFitIfFullscreen?(f=Math.round(n-j)<f||a().zoomToFit||p?Math.round(n-j):f,g=Math.round(f*h),4>k-g&&(g+=k-g)):(g=k,f=Math.round(g/h))}g&&f&&(h={width:g,height:f},f!=
    n&&(d=Math.round((n-f)/2)),g!=k&&(D=Math.round((k-g)/2)),o.attr(h),h.top=d,h.left=D,o.animate(h,b));o.css({visibility:"visible"});b=c.data("img");o=c.data("srcKey");e=l[e].imgRel;if(b&&(e&&e!=o&&!Fa)&&(g=b.data("full"),c=c.data("detached"),(p&&!g||!p&&g)&&!c))b[0].src=p?e:o,b.data({full:p})}else o&&g&&c.data({needToResize:!0})}function Cb(c,e,f,o){function g(d){function n(){j.css({visibility:"hidden"});k.src=d;if(0==D&&(j.appendTo(e),"thumb"==o)){var c=a().vertical?Math.round(L/(a().aspectRatio?a().aspectRatio:
    y?y:1)):Math.round(L*(a().aspectRatio?a().aspectRatio:y?y:1));e.css(S,c).data(S,c);T()}}function m(){R.i.test(d)||(ra[d]="loaded");j.unbind("error load").error(function(){j.unbind("error");k.src=d;l[c].imgRel=!1;Da(z.eq(c),c)});e.trigger(b+"load").data({state:"loaded"});setTimeout(function(){l[d]||(l[d]=[],l[d].imgWidth=j.width(),l[d].imgWidth||(l[d].imgWidth=e.data("html")?e.data("html").width()||Qb:Qb),l[d].imgHeight=j.height(),l[d].imgHeight||(l[d].imgHeight=e.data("html")?e.data("html").height()||
    Rb:Rb),l[d].imgRatio=l[d].imgWidth/l[d].imgHeight);f(k,l[d].imgWidth,l[d].imgHeight,l[d].imgRatio,d,c)},100);"thumb"==o&&(Ya++,Ya==v&&(nb=!0))}function t(){cb("img"==o?q:w,m)}function r(a){ra[d]="error";j.unbind("error load");D<h.length&&a?(D++,R.i.test(h[D])&&r(!0),g(h[D])):(e.trigger(b+"error").data({state:"error"}),"thumb"==o&&(Ya++,Ya==v&&(nb=!0)))}if(ra[d]){var Sb=function(){"error"==ra[d]?r(!1):"loaded"==ra[d]?t():setTimeout(Sb,100)};n();Sb()}else R.i.test(d)?t():(ra[d]="loading",j.unbind("error load").bind("error",
    function(){r(!0)}).bind("load",t),n())}var k=new Image,j=d(k),h=[],D=0,n=" "===l[c].imgHref?"\u0451"+c:l[c].imgHref,m=" "===l[c].imgSrc?"\u0451"+c:l[c].imgSrc,r=" "===l[c].thumbSrc?"\u0451"+c:l[c].thumbSrc,t="img"==o?"push":"unshift";if(n)h[t](n);if(m)h[t](m);if(r)h[t](r);g(h[D])}function pb(c,e){if(c.data("wraped"))a().detachSiblings&&c.data("detached")&&(c.data({detached:!1}).appendTo(I),c.data("needToResize")&&(Da(c,e),c.data({needToResize:!1})));else{I.append(c.data({state:"loading"}));e!=A&&
    !a().touchStyle&&c.stop().fadeTo(0,0);c.data({wraped:!0,detached:!1});if(qb&&Q[e].html&&Q[e].html.length||a().html&&a().html[e]&&a().html[e].length){var f=Q[e].html||a().html[e];qa&&(a().html[e]&&a()._html[e])&&f.html(a()._html[e]);c.append(f).data({html:d(f)});ec(c)}Cb(e,c,function(f,g,B,j,h){f=d(f);f.addClass(b+"__img");c.data({img:f,srcKey:h});h=!1;if((!k||!n)&&!Jb||!rb&&e==a().startImg)k=g,a().width=g,ia?(n=B,a().height=B):ha&&(k=Math.round(n*(g/B)),a().width=k),a().aspectRatio||(a().aspectRatio=
    k/n),h=!0,rb=e==a().startImg;h||a().flexible?U(!0):Da(c,e);c.css({visibility:"visible"})},"img")}}function gc(c,e){var b=0,f=!1,g=[],k=[],j=p?Math.min(1,a().preload):a().preload;for(i=0;i<2*j+1;i++){var h=e-j+i;if(0<=h&&h<v&&!a().loop||a().loop){0>h&&(h=v+h);h>v-1&&(h-=v);if(!z.eq(h).data("wraped")||z.eq(h).data("detached"))b++,g.push(h);k.push(h)}else f=!0}if(b>=j||f)d(g).each(function(a){setTimeout(function(){pb(z.eq(g[a]),g[a])},50*a)}),a().detachSiblings&&z.filter(function(a){for(var c=d(this),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 b=!1,f=0;f<k.length&&!b;f++)k[f]==a&&(b=!0);return"loading"!=c.data("state")&&!b&&e!=a}).data({detached:!0}).detach()}function N(c){c||(c=0);clearTimeout(Tb);Tb=setTimeout(function(){"loading"!=H.data("state")?sa&&f.trigger("showimg",[A+1,!1,!0]):H.bind(b+"load "+b+"error",function(){N(c)})},Math.max(a().autoplay,2*c))}function ba(c,e,B,o,g,k,j,h){function n(){a().caption&&((kb=Q[p].caption?Q[p].caption:Q[p].title)?la.html(kb).show():la.html("").hide())}function m(){if(a().shadows||!a().touchStyle)l.removeClass(b+
    "__frame_active"),c.addClass(b+"__frame_active")}var l,q,x,p=z.index(c);z.each(function(){d(this).unbind(b+"load "+b+"error")});"number"!=typeof g&&(g=o?0:a().transitionDuration);!o&&(e&&e.altKey)&&(g*=10);e=c.data("state");"loading"==e||!e?(F("loading",p,g),c.one(b+"load",function(){F("loaded",p,g);n()}),c.one(b+"error",function(){F("error",p,g);n()})):"error"==e?F("error",p,g):e!=Ta&&F("loaded",p,0);n();H?(l=H,x=A,a().thumbs&&(q=ja)):(l=z.not(c),a().thumbs&&(q=M.not(M.eq(p))));a().thumbs&&(ja=M.eq(p),
    x&&(Pb=x),q.removeClass(b+"__thumb_selected").data("disabled",!1),ja.addClass(b+"__thumb_selected").data("disabled",!0));a().thumbs&&(a().thumbsPreview&&(x!=p||o))&&mb(g,B);if(a().touchStyle)B=-p*(r+a().margin),m(),K(I,B,g,k);else{var u=function(e){if(x!=p||o){var b=g,d=0;if(e){b=0;d=g}z.not(l.stop()).stop().fadeTo(0,0);setTimeout(function(){m();c.stop().fadeTo(b,1,function(){l.not(c).stop().fadeTo(d,0,function(){a().flexible&&jb()});Mb()})},10)}};"loaded"==e?u():"error"==e?u(!0):(c.one(b+"load",
    function(){u()}),c.one(b+"error",function(){u(true)}))}H=c;A=p;a().hash&&document.location.replace("#"+(A+1));sa&&(!j&&a().stopAutoplayOnAction)&&(sa=!1);N(g);var T=t();f.data(T);a().arrows&&((0==A||2>v)&&!a().loop?Ga.addClass(b+"__arr_disabled").data("disabled",!0):Ga.removeClass(b+"__arr_disabled").data("disabled",!1),(A==v-1||2>v)&&!a().loop?Ha.addClass(b+"__arr_disabled").data("disabled",!0):Ha.removeClass(b+"__arr_disabled").data("disabled",!1));var s=c.data("wraped");clearTimeout(Ub);Ub=setTimeout(function(){if(!s&&
    p!=a().startImg){pb(c,p);a().onShowImg&&!h&&a().onShowImg.call(f[0],T,j)}gc(c,p)},1.1*(g+k?Math.max(g/2,C):0));if(s||p==a().startImg)pb(c,p),a().onShowImg&&!h&&a().onShowImg.call(f[0],T,j)}function ca(c,b){b.stopPropagation();b.preventDefault();var d=A+c;0>d&&(d=a().loop?v-1:0);d>v-1&&(d=a().loop?0:v-1);ba(z.eq(d),b)}function O(a,b){clearTimeout(Vb);Vb=setTimeout(function(){U(b)},100)}function ta(){Wb||(aa.bind("resize",O),j&&window.addEventListener("orientationchange",O,!1),Wb=!0)}function sb(a){a.stopPropagation();
  if(!d(this).data("disabled")){var b=M.index(d(this)),f=a[W]-w.offset()[J];ba(z.eq(b),a,f)}}function ua(c,b,d,f){function g(d){if((j||2>d.which)&&H){var f=function(){x=(new Date).getTime();m=n;t=l;q=[[x,n]];clearInterval(c.data("backAnimate"));ea&&a().cssTransitions?c.css(wa(0)):c.stop();h=zb(c,J,a().cssTransitions);c.css(va(h,a().vertical,!a().cssTransitions));r=h;b();A=!1};if(j)if(j&&1==d.targetTouches.length)n=d.targetTouches[0][W],l=d.targetTouches[0][Za],f(),c[0].addEventListener("touchmove",
    k,!1),c[0].addEventListener("touchend",p,!1);else{if(j&&1<d.targetTouches.length)return!1}else n=d[W],d.preventDefault(),f(),Ia.mousemove(k),Ia.mouseup(p)}}function k(b){function e(){b.preventDefault();u=(new Date).getTime();q.push([u,n]);var f=m-n;h=r-f;h>c.data("maxPos")?(h=Math.round(h+(c.data("maxPos")-h)/1.5),z="left"):h<c.data("minPos")?(h=Math.round(h+(c.data("minPos")-h)/1.5),z="right"):z=!1;a().touchStyle&&c.css(va(h,a().vertical,!a().cssTransitions));d(h,f,z)}j?j&&1==b.targetTouches.length&&
    (n=b.targetTouches[0][W],l=b.targetTouches[0][Za],y?!0===w&&e():-5<=Math.abs(n-m)-Math.abs(l-t)?(y=w=!0,b.preventDefault()):-5<=Math.abs(l-t)-Math.abs(n-m)&&(w="prevent",y=!0)):(n=b[W],e())}function p(a){if((!j||!a.targetTouches.length)&&!1===A){j?(c[0].removeEventListener("touchmove",k,!1),c[0].removeEventListener("touchend",p,!1)):(Ia.unbind("mouseup"),Ia.unbind("mousemove"));s=(new Date).getTime();for(var b=-h,e=s-Ja,d,g,l,B,m=0;m<q.length;m++)if(d=Math.abs(e-q[m][0]),0==m&&(g=d,l=s-q[m][0],B=
    q[m][1]),d<=g)g=d,l=q[m][0],B=q[m][1];e=B-n;d=0<=e;l=s-l;f(b,l,l<=Ja,s-v,d===T,e,a,w);v=s;T=d;y=w=!1;A=!0}}var h,n,l,m,t,r,x,q=[],u,T,s,v=0,w=!1,y=!1,z=!1,A;j?c[0].addEventListener("touchstart",g,!1):c.mousedown(g);j&&aa.scroll(function(){p({targetTouches:[]})})}var a=function(){return f.data("options")};a().backgroundColor&&!a().background&&(a().background=a().backgroundColor);a().thumbsBackgroundColor&&!a().navBackground&&(a().navBackground=a().thumbsBackgroundColor);a().thumbColor&&!a().dotColor&&
(a().dotColor=a().thumbColor);null!==a().click&&(a().pseudoClick=a().click);if(!0===a().nav||"true"==a().nav||"thumbs"==a().nav)a().thumbs=!0,a().thumbsPreview=!0;else if("dots"==a().nav)a().thumbs=!0,a().thumbsPreview=!1;else if(!1===a().nav||"false"==a().nav||"none"==a().nav)a().thumbs=!1;"fade"===a().transition&&(a().touchStyle=!1);a().cropToFit&&(a().cropToFitIfFullscreen=!0);a().thumbsPreview&&(a().background&&!a().navBackground)&&(a().navBackground=a().background);a().caption&&(!0===a().caption||
    "true"==a().caption||"simple"==a().caption?a().caption=!0:"overlay"!=a().caption&&(a().caption=!1));"top"==a().navPosition?(a().thumbsOnTop=!0,a().thumbsOnRight=!1):"right"==a().navPosition?(a().thumbsOnTop=!1,a().thumbsOnRight=!0):"bottom"==a().navPosition?(a().thumbsOnTop=!1,a().thumbsOnRight=!1):"left"==a().navPosition&&(a().thumbsOnTop=!1,a().thumbsOnRight=!1);var Ta;a().hash&&document.location.hash&&(a().startImg=parseInt(document.location.hash.replace("#",""))-1);var Q,qb=a().data&&("object"==
    typeof a().data||"string"==typeof a().data);Q=qb?d(a().data).filter(function(){return this.img||this.img===" "||this.href||this.href===" "}):f.children().each(function(){var a=d(this),b=a.children("img");(!(a.is("a")&&b.length||a.is("img"))||!a.attr("href")&&!(a.attr("href")===" "||a.attr("src")||a.attr("src")===" "||b.attr("src")||b.attr("src")===" "))&&a.data({html:true})});var v=Q.size();f.data({size:v});a().preload=Math.min(a().preload,v);if(a().startImg>v-1||"number"!=typeof a().startImg)a().startImg=
    0;var l=[];Q.each(function(c){if(qb)l[c]={imgHref:this.img?this.img:this.href?this.href:this.length?""+this:null,thumbSrc:this.thumb,imgRel:this.full};else{var b=d(this);if(b.data("html")){l[c]={imgHref:b.attr("data-img")||" ",thumbSrc:b.attr("data-thumb"),imgRel:b.attr("data-full")};this.caption=this.caption||b.attr("data-caption");if(!a().html)a().html={};a().html[c]=b;if(qa){if(!a()._html)a()._html={};a()._html[c]=b.html()}}else{var f=b.children();l[c]={imgHref:b.attr("href"),imgSrc:b.attr("src"),
  thumbSrc:f.attr("src"),imgRel:b.attr("rel")?b.attr("rel"):f.attr("rel")};this.caption=b.attr("alt")||f.attr("alt")}}});f.html("").addClass(b+" "+(a().vertical?b+"_vertical":b+"_horizontal"));ob&&f.addClass(b+"_quirks");if(tb||Fa)var Ka=f.wrap('<div class="'+b+'-outer"></div>').parent();a().arrows||(a().loop=!0);var ra=[],r,Ra,k,n,na,Aa,oa=Z(a().minWidth),za=Z(a().maxWidth),Ba=Z(a().minHeight),Ca=Z(a().maxHeight),gb=1,ia=!0,ha=!0,pa,R={no:/^[0-9.]+$/,px:/^[0-9.]+px$/,"%":/^[0-9.]+%$/,i:/^\u0451\d+$/},
    y,Pa,Oa,Fb,Gb,Hb,Jb,rb,Eb,p,Wb,fb,Nb,Xb,Yb,Ub,sa,Tb;if(!0===a().autoplay||"true"==a().autoplay||0<a().autoplay)sa=!0;"number"!=typeof a().autoplay&&(a().autoplay=5E3);if(a().touchStyle)var hb=0,Ib,xa=!1,Na=!1,Zb;if(a().thumbs&&a().thumbsPreview)var ga=!1,Va=!1,Xa=!1,ya=!1,$b,nb=!1,Ya=0;var J,Sa,W,Za,S,$;a().vertical?(J="top",Sa="left",W="pageY",Za="pageX",S="height",$="width"):(J="left",Sa="top",W="pageX",Za="pageY",S="width",$="height");var q=d('<div class="'+b+'__wrap"></div>').appendTo(f),I=d('<div class="'+
    b+'__shaft"></div>').appendTo(q);a().touchStyle||(La(q),La(I));var V=d('<div class="'+b+'__state"></div>').appendTo(I);d('<div class="'+b+'__noise"></div>').prependTo(q);Ea||V.addClass(b+"__state_quirks");var Kb,Lb,Ua=0,bb=32,db=12,fc=83;if(a().fullscreenIcon&&!a().fullscreen)var ma=d('<div class="'+b+'__fsi"><i class="i1"><i class="i1"></i></i><i class="i2"><i class="i2"></i></i><i class="i3"><i class="i3"></i></i><i class="i4"><i class="i4"></i></i><i class="i0"></i></div>').appendTo(q);j&&f.addClass(b+
    "_touch");Fa&&(a().shadows=!1);a().touchStyle?q.addClass(b+"__wrap_style_touch"):q.addClass(b+"__wrap_style_fade");a().shadows&&f.addClass(b+"_shadows");ea&&a().cssTransitions&&f.addClass(b+"_csstransitions");if(a().arrows){var ub,vb;a().vertical?(ub=a().arrowPrev?a().arrowPrev:"&#9650;",vb=a().arrowNext?a().arrowNext:"&#9660;"):(ub=a().arrowPrev?a().arrowPrev:"&#9664;",vb=a().arrowNext?a().arrowNext:"&#9654;");var fa=d('<i class="'+b+"__arr "+b+'__arr_prev">'+ub+'</i><i class="'+b+"__arr "+b+'__arr_next">'+
    vb+"</i>").appendTo(q),Ga=fa.eq(0),Ha=fa.eq(1);La(fa);var ac,bc,hc=function(){clearTimeout(bc);bc=setTimeout(function(){var c=ac>=r/2;Ha[!c?"removeClass":"addClass"](b+"__arr_hover");Ga[c?"removeClass":"addClass"](b+"__arr_hover");a().touchStyle||I.css({cursor:c&&Ha.data("disabled")||!c&&Ga.data("disabled")?"default":"pointer"})},10)};j||a().pseudoClick&&q.mousemove(function(a){ac=a[W]-q.offset()[J];hc()})}else!a().touchStyle&&(a().pseudoClick&&1<v)&&I.css({cursor:"pointer"});var eb=!1,Bb;j||(q.mouseenter(function(){cc()}),
    q.mouseleave(function(){eb=false;s()}));var H,A,kb,z=d();Q.each(function(){var a=d('<div class="'+b+'__frame" style="visibility: hidden;"></div>');z=z.add(a)});if(a().thumbs){var L=Number(a().thumbSize);if(isNaN(L)||!L)L=a().vertical?64:48;var ja,Pb=0,w=d('<div class="'+b+'__thumbs" style="visibility: hidden;"></div>')[a().thumbsOnTop?"prependTo":"appendTo"](f),P,u=d('<div class="'+b+'__thumbs-shaft"></div>').appendTo(w);a().touchStyle||La(w);if(a().thumbsPreview){P=L+2*a().thumbMargin;w.addClass(b+
    "__thumbs_previews").css($,P);var X=0,Y=void 0,ic=L-(ob?0:2*a().thumbBorderWidth),jc=a().thumbMargin,$a={};$a[$]=ic;$a[Sa]=jc;$a.borderWidth=a().thumbBorderWidth;var ka=d('<i class="'+b+'__thumb-border"></i>').css($a).appendTo(u),Wa}var Db=a().vertical&&w?w.width():0;f.css({minWidth:oa+Db});Q.each(function(){var c;if(a().thumbsPreview){c=d('<div class="'+b+'__thumb"></div>');var e={};e[$]=L;e.margin=a().thumbMargin;c.css(e)}else c=d('<i class="'+b+'__thumb"><i class="'+b+'__thumb__dot"></i></i>');
  c.appendTo(u)});var M=d("."+b+"__thumb",f)}if(a().caption){var la=d('<p class="'+b+'__caption"></p>');if("overlay"==a().caption)la.appendTo(q).addClass(b+"__caption_overlay");else{la.appendTo(f);var kc=la.wrap('<div class="'+b+'__caption-outer"></div>').parent()}}m(a().width,a().height,a().aspectRatio);var ib=[];ba(z.eq(a().startImg),!1,!1,!0,!1,!1,!0);k&&n&&(rb=!0,U());a().thumbs&&a().thumbsPreview&&da(0);a().thumbs&&(a().dotColor&&!a().thumbsPreview&&M.children().css({backgroundColor:a().dotColor}),
    a().navBackground&&w.css({background:a().navBackground}),a().thumbsPreview&&a().thumbBorderColor&&ka.css({borderColor:a().thumbBorderColor}));a().background&&q.add(a().touchStyle?!1:z).css({background:a().background});a().arrowsColor&&a().arrows&&fa.css({color:a().arrowsColor});var Vb=!1;ta();f.bind("dblclick",dc);f.bind("showimg",function(b,e,d,f){if(typeof e!="number")if(e=="next")e=A+1;else if(e=="prev")e=A-1;else if(e=="first")e=0;else if(e=="last")e=v-1;else{e=A;f=true}e>v-1&&(e=0);(!a().touchStyle||
    !Na)&&ba(z.eq(e),b,false,false,d,false,f)});f.bind("play",function(b,e){sa=true;e=Number(e);if(!isNaN(e))a().autoplay=e;N(C)});f.bind("pause",function(){sa=false});f.bind("rescale",function(a,b,d,f,g){m(b,d,f);Oa=y=k/n;Eb=!pa;g=Number(g);isNaN(g)&&(g=0);U(false,g)});f.bind("fullscreenopen",function(){Xb=aa.scrollTop();Yb=aa.scrollLeft();p=true;ma&&ma.trigger("mouseleave",true);aa.scrollTop(0);wb.add(ab).addClass("fullscreen");f.addClass(b+"_fullscreen");(tb||Fa)&&f.appendTo(ab).addClass(b+"_fullscreen_quirks");
  a().caption&&!a().caption!="overlay"&&la.appendTo(q);a().thumbs&&a().hideNavIfFullscreen&&w.hide();ta();H&&ba(H,false,false,true,0,false,true,true);U(false,false,true);a().onFullscreenOpen&&a().onFullscreenOpen.call(f[0],t())});f.bind("fullscreenclose",function(){p=false;ma&&ma.trigger("mouseleave",true);wb.add(ab).removeClass("fullscreen");f.removeClass(b+"_fullscreen");(tb||Fa)&&f.appendTo(Ka).removeClass(b+"_fullscreen_quirks");a().caption&&!a().caption!="overlay"&&la.appendTo(kc);aa.scrollTop(Xb);
  aa.scrollLeft(Yb);if(!pa){k=a().width;n=a().height}a().thumbs&&a().hideNavIfFullscreen&&w.show();H&&ba(H,false,false,true,0,false,true,true);a().flexible?jb():U(false,false,true);a().onFullscreenClose&&a().onFullscreenClose.call(f[0],t())});f.bind("reset",function(){O({type:"resize"},true)});Ia.bind("keydown",function(b){p&&(b.keyCode==27&&!a().fullscreen?f.trigger("fullscreenclose"):b.keyCode==39||b.keyCode==40?f.trigger("showimg",A+1):(b.keyCode==37||b.keyCode==38)&&f.trigger("showimg",A-1))});
  a().thumbs&&M.bind("click",sb);a().arrows&&(Ga.bind("click",function(a){d(this).data("disabled")||ca(-1,a)}),Ha.bind("click",function(a){d(this).data("disabled")||ca(1,a)}));!a().touchStyle&&(!j&&a().pseudoClick)&&q.bind("click",function(b){if(a().html){var e,k;e=d(b.target);k=e.filter("a");k.length||(k=e.parents("a"))}if(!k||!k.length){e=b[W]-q.offset()[J]>=r/2;if(a().onClick)var o=a().onClick.call(f[0],t());o!==false&&(!b.shiftKey&&e&&a().arrows||b.shiftKey&&!e&&a().arrows||!a().arrows&&!b.shiftKey?
      ca(1,b):ca(-1,b))}});ma&&ma.bind("click",function(a){a.stopPropagation();f.trigger(p?"fullscreenclose":"fullscreenopen")}).bind("mouseenter mouseleave",function(a,e){e&&a.stopPropagation();ma[a.type=="mouseenter"?"addClass":"removeClass"](b+"__fsi_hover")});a().fullscreen&&f.trigger("fullscreenopen");if(a().touchStyle||j){var xb=!1;ua(I,function(){Na=true},function(c,e,f){clearTimeout(Zb);if(!xa){a().shadows&&q.addClass(b+"__wrap_shadow");j||I.addClass(b+"__shaft_grabbing");xa=true}if(a().shadows)if(f){c=
      f=="left"?"right":"left";q.addClass(b+"__wrap_shadow_no-"+f).removeClass(b+"__wrap_shadow_no-"+c)}else a().shadows&&q.removeClass(b+"__wrap_shadow_no-left "+b+"__wrap_shadow_no-right");if(Math.abs(e)>=5&&!xb){xb=true;d("a",q).bind("click",Ab)}},function(c,e,k,o,g,l,n,h){Na=false;Zb=setTimeout(function(){!j&&a().arrows&&s();xb=false;d("a",q).unbind("click",Ab)},Ja);j||I.removeClass(b+"__shaft_grabbing");a().shadows&&q.removeClass(b+"__wrap_shadow");var g=o=false,m,p;if(a().html){m=d(n.target);p=m.filter("a");
    p.length||(p=m.parents("a"))}if(a().touchStyle)if(xa){k&&(l<=-10?o=true:l>=10&&(g=true));k=C;h=Math.round(c/(r+a().margin));if(o||g){var e=-l/e,l=Math.round(-c+e*250),x;if(o){h=Math.ceil(c/(r+a().margin))-1;c=-h*(r+a().margin);if(l>c){x=Math.abs(l-c);k=Math.abs(k/(e*250/(Math.abs(e*250)-x*0.97)));x=c+x*0.03}}else if(g){h=Math.floor(c/(r+a().margin))+1;c=-h*(r+a().margin);if(l<c){x=Math.abs(l-c);k=Math.abs(k/(e*250/(Math.abs(e*250)-x*0.97)));x=c-x*0.03}}}if(h<0){h=0;x=false;k=C}if(h>v-1){h=v-1;x=false;
    k=C}ba(z.eq(h),n,false,false,k,x)}else{if(a().html&&p.length)return false;if(a().onClick&&h!="prevent")var u=a().onClick.call(f[0],t());if(u!==false&&a().pseudoClick&&!j&&e<Ja){x=n[W]-q.offset()[J]>=r/2;!n.shiftKey&&x&&a().arrows||n.shiftKey&&!x&&a().arrows||!a().arrows&&!n.shiftKey?ca(1,n):ca(-1,n)}else ba(H,n,false,false,false,false,true)}else{if(l==0&&a().html&&p.length)return false;l>=0?ca(1,n):l<0&&ca(-1,n)}xa=false});if(a().touchStyle&&a().thumbs&&a().thumbsPreview){var yb=!1;ua(u,function(){Va=
      ga=true},function(a,b){if(!ya&&Math.abs(b)>=5){M.unbind("click",sb);yb=true;clearTimeout($b);ya=true}x(a)},function(a,b,d,f,g,k,l){ya=ga=false;$b=setTimeout(function(){if(yb){M.bind("click",sb);yb=false}},Ja);var f=a=-a,h,g=C*2;if(Xa&&ya){mb(0,false,false);Xa=false}if(a>u.data("maxPos")){f=u.data("maxPos");g=g/2}else if(a<u.data("minPos")){f=u.data("minPos");g=g/2}else if(d){b=-k/b;f=Math.round(a+b*250);if(f>u.data("maxPos")){h=Math.abs(f-u.data("maxPos"));g=Math.abs(g/(b*250/(Math.abs(b*250)-h*0.96)));
    f=u.data("maxPos");h=f+h*0.04}else if(f<u.data("minPos")){h=Math.abs(f-u.data("minPos"));g=Math.abs(g/(b*250/(Math.abs(b*250)-h*0.96)));f=u.data("minPos");h=f-h*0.04}}l.altKey&&(g=g*10);Y=f;if(f!=a){K(u,f,g,h);x(f)}})}}}var Ma=function(b,d,j){function E(b,d){for(var f in b)if(Qa[b[f]]!==j)return"pfx"==d?b[f]:!0;return!1}function da(b,d,f){var m=b.charAt(0).toUpperCase()+b.substr(1),t=(b+" "+U.join(m+" ")+m).split(" ");if("string"===typeof d||"undefined"===typeof d)d=E(t,d);else{t=(b+" "+G.join(m+
    " ")+m).split(" ");a:{var b=t,F;for(F in b)if(m=d[b[F]],m!==j){d=!1===f?b[F]:"function"===typeof m?m.bind(f||d):m;break a}d=!1}}return d}var b={},m=d.createElement("modernizr"),Qa=m.style,U=["Webkit","Moz","O","ms"],G=["webkit","moz","o","ms"],m={},F=[],t=F.slice,C,K={}.hasOwnProperty,N;"undefined"!==typeof K&&"undefined"!==typeof K.call?N=function(b,d){return K.call(b,d)}:N=function(b,d){return d in b&&"undefined"===typeof b.constructor.prototype[d]};Function.prototype.bind||(Function.prototype.bind=
    function(b){var d=this;if("function"!=typeof d)throw new TypeError;var f=t.call(arguments,1),m=function(){if(this instanceof m){var j=function(){};j.prototype=d.prototype;var j=new j,s=d.apply(j,f.concat(t.call(arguments)));return Object(s)===s?s:j}return d.apply(b,f.concat(t.call(arguments)))};return m});m.canvas=function(){var b=d.createElement("canvas");return!!b.getContext&&!!b.getContext("2d")};m.csstransforms=function(){return!!da("transform")};m.csstransitions=function(){return da("transition")};
  for(var O in m)N(m,O)&&(C=O.toLowerCase(),b[C]=m[O](),F.push((b[C]?"":"no-")+C));Qa.cssText="";return m=null,b._version="2.5.3",b._domPrefixes=G,b._cssomPrefixes=U,b.testProp=function(b){return E([b])},b.testAllProps=da,b}(this,this.document);d.extend({bez:function(b){var j="bez_"+d.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof d.easing[j]){var s=function(b,d){var f=[null,null],j=[null,null],s=[null,null],C=function(F,t){return s[t]=3*b[t],j[t]=3*(d[t]-b[t])-s[t],f[t]=1-s[t]-
    j[t],F*(s[t]+F*(j[t]+F*f[t]))};return function(b){for(var d=b,E=0,K;14>++E;){K=C(d,0)-b;if(0.001>Math.abs(K))break;d-=K/(s[0]+d*(2*j[0]+3*f[0]*d))}return C(d,1)}};d.easing[j]=function(d,j,m,C,G){return C*s([b[0],b[1]],[b[2],b[3]])(j/G)+m}}return j}});var N="quirks"==document.location.hash.replace("#",""),j="ontouchstart"in document,Fa=navigator.userAgent.toLowerCase().match(/(phone|ipod|ipad|windows ce|netfront|playstation|midp|up\.browser|android|mobile|mini|tablet|symbian|nintendo|wii)/),qa=d.browser.msie,
    tb=qa&&"6.0"==d.browser.version,bb=d.browser.mozilla,ea=Ma.csstransforms&&Ma.csstransitions&&!N&&!0,ob="CSS1Compat"!=document.compatMode&&qa,Ea=!N;Ea&&(N=new Image,N.onerror=function(){if(1!=this.width||1!=this.height)Ea=!1},N.src="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==");var Ja=300,lb=d.bez([0.1,0,0.25,1]),C=333,Qb=500,Rb=333,b="fotorama",aa=d(window),Ia=d(document),wb,ab,O=[["width","string",null],["minWidth","string",null],["maxWidth","string",null],
  ["height","string",null],["minHeight","string",null],["maxHeight","string",null],["aspectRatio","number",null],["transition","string","slide"],["touchStyle","boolean",!0],["click","boolean",null],["pseudoClick","boolean",!0],["loop","boolean",!1],["autoplay","boolean-number",!1],["stopAutoplayOnAction","boolean",!0],["transitionDuration","number",C],["background","string",null],["backgroundColor","string",null],["margin","number",4],["minPadding","number",8],["alwaysPadding","boolean",!1],["zoomToFit",
    "boolean",!0],["cropToFit","boolean",!1],["cropToFitIfFullscreen","boolean",!1],["flexible","boolean",!1],["fitToWindowHeight","boolean",!1],["fitToWindowHeightMargin","number",20],["fullscreen","boolean",!1],["fullscreenIcon","boolean",!1],["vertical","boolean",!1],["arrows","boolean",!0],["arrowsColor","string",null],["arrowPrev","string",null],["arrowNext","string",null],["nav","string",null],["thumbs","boolean",!0],["navPosition","string",null],["thumbsOnTop","boolean",!1],["thumbsOnRight","boolean",
    !1],["navBackground","string",null],["thumbsBackgroundColor","string",null],["dotColor","string",null],["thumbColor","string",null],["thumbsPreview","boolean",!0],["thumbSize","number",null],["thumbMargin","number",4],["thumbBorderWidth","number",2],["thumbBorderColor","string",null],["thumbsCentered","boolean",!0],["hideNavIfFullscreen","boolean",!1],["caption","string",!1],["preload","number",3],["shadows","boolean",!0],["data","array",null],["html","array",null],["hash","boolean",!1],["startImg",
    "number",0],["onShowImg","function",null],["onFullscreenOpen","function",null],["onFullscreenClose","function",null],["onClick","function",null],["onTransitionStop","function",null],["detachSiblings","boolean",!0],["cssTransitions","boolean",!0]],Ka=["-webkit-","-moz-","-o-","-ms-",""];d.fn[b]=function(b){typeof fotoramaDefaults=="undefined"&&(fotoramaDefaults={});this.each(function(){var j=d(this),s=d.extend(ta(),d.extend({},fotoramaDefaults,d.extend(b,ta(j))));if(!j.data("ini")){j.data({ini:true,
  options:s});cb(j,function(){db(j)})}});return this};d(function(){wb=d("html");ab=d("body");d("."+b).each(function(){d(this)[b]()})})})(jQuery);